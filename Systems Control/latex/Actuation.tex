\documentclass[main.tex]{subfiles}

\begin{document} 
\subsection{Electromagnetic Actuation}

\subsubsection{Magnetic Actuation Concept}

The electromagnetic actuator is introduced into the system to stabilize the inverted pendulum. The actuator generates a magnetic force that acts on the pendulum mass, producing a control torque around the pivot. The magnetic actuation principle is inspired by electromagnetic suspension (EMS) systems, where force is controlled through the current of an electromagnet \cite{ems}. However, the EMS model is not used as a full mechanical system in this project. This project shares the actuator concept with EMS, which captures the nonlinear dependence of magnetic force on current and distance.

\subsubsection{Introducing Inertia}
Previously, the inverted pendulum dynamics was introduced in the compact form with cancelled out inertia term
\begin{equation}
    \ddot\phi = \frac{g}{\textit{l}}sin(\phi)
\end{equation}
This expression implicitly assumes a point mass m located at the end of a massless rod of length \textit{l}. Under this assumption, the moment of inertia of the pendulum with respect to the pivot is
\begin{equation}
    I = m\textit{l}^2
\end{equation}
Considering the case where only gravity is taken into account, the inertia term cancels out during the derivation. That is why it does not appear explicitly in the final equation of motion. However, this simplified form is no longer sufficient when adding actuation torque. The pendulum dynamics must be expressed at the level of rotational motion using Newtonâ€™s second law \cite{newton2} to correctly incorporate multiple torque contributions
\begin{equation}
    \tau = I\ddot\phi
\end{equation}
This formulation makes the role of the system inertia explicit and ensures that both gravitational and magnetic torques are properly incorporated into the resulting angular acceleration.

\subsubsection{Gravitational Torque}
The gravitational force acting on the pendulum mass is
\begin{equation}
    F_g= mg
\end{equation}
which generates a torque about the pivot given by
\begin{equation}
    \tau_g=mg\textit{l}sin(\phi)
\end{equation}
This torque destabilizes the upright equilibrium by increasing the angular deviation.

\subsubsection{Magnetic Torque}
The magnetic force generated by the electromagnet is modeled as
\begin{equation}
    F_m(d,i)= \frac{ki^2}{d^2}
\end{equation}
where:
\begin{itemize}
    \item $i$ - is the electromagnet coil current
    \item $d$ - is the distance between the magnet and the pendulum mass
    \item $k$ - is the constant accounting for various conditions determined for each experiment
\end{itemize}

This force generates a torque about the pivot. Assuming the magnetic force acts approximately perpendicular to the pendulum rod within the operating region, the magnetic torque is expressed as
\begin{equation}
    \tau_m = F_m\textit{l}
\end{equation}
The direction of this torque is chosen such that it counteracts the destabilizing gravitational torque.

\subsubsection{Updated Pendulum Dynamics}
Including both gravitational and magnetic torques, the rotational equation of motion becomes
\begin{equation}
    I\ddot\phi =mg\textit{l}sin(\phi) + F_m\textit{l}
\end{equation}
Substituting $I = m\textit{l}^2$ and dividing by $m\textit{l}^2$ gives
\begin{equation}
    \ddot\phi = \frac{g}{\textit{l}}sin(\phi) +\frac{F_m}{m\textit{l}}
\end{equation}
Substituting the magnetic force expression specified earlier results in
\begin{equation}
    \ddot\phi=\frac{g}{\textit{l}}sin(\phi) +\frac{k}{m\textit{l}}\frac{i^2}{d^2}
\end{equation}
This is an updated equation, which describes the nonlinear dynamics of an inverted pendulum stabilized by magnetic actuation.

\subsubsection{Dynamics of Electromagnetic Actuator}
The electromagnet coil dynamics are modeled as an RL circuit \cite{rlcirc}
\begin{equation}
    L_c\dot i = -Ri + u
\end{equation}
where:
\begin{itemize}
    \item $L_c$ - is the coil inductance
    \item $\dot i$ - is speed of current change
    \item $R$ - is the coil resistance
    \item $i$ - is the coil current
    \item $u$ - control voltage
\end{itemize}
This equation captures the dynamic relationship between the control input and the magnetic force generation.

\subsubsection{Updated State-Space Model}
The set of state variables extends with coil current
\begin{equation}
    x_1=\phi \quad \text{(angular position)}
\end{equation}
\begin{equation}
    x_2=\dot\phi \quad \text{(angular velocity)}
\end{equation}
\begin{equation}
    x_3=i \quad \text{(coil current)}
\end{equation}
Combining newly introduced state variables with pendulum and electromagnetic actuator dynamics results in the following nonlinear state-space model
\begin{equation}
    \dot x_1 = x_2
\end{equation}
\begin{equation}
    \dot x_2 = \frac{g}{\textit{l}}sin(x_1) +\frac{k}{m\textit{l}}\frac{x_3^2}{d^2}
\end{equation}
\begin{equation}
    \dot x_3 = - \frac{R}{L_c}x_3 + \frac{1}{L_c}u
\end{equation}
\end{document}